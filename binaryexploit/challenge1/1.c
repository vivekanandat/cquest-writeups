#include <stdio.h>
#include <string.h>

void print_flag(char *username){
    
	FILE *f = fopen("flag.txt","r");
	char flag[200];
	fgets(flag, 199, f);
	printf("%s", flag);
}

void login(){
	char password[20] = "";
	char username[20] = "";
	printf("Username: ");
	gets(username); //this is a vulnerable function
	printf("%s",password);
    if(!strcmp(password,"password")){
	    print_flag(username);
    }
    else{
        printf("do u know what a buffer overflow is?\n");
    }
}

void main(){
	setvbuf(stdin, NULL, _IONBF, 0);
	setvbuf(stdout, NULL, _IONBF, 0);
	setvbuf(stderr, NULL, _IONBF, 0);
	login();
	return;
}
